$(function () { }); var realtime = "on"; function initRealTimeChart() { var a = $.plot("#real_time_chart", [getRandomData()], { series: { shadowSize: 0, color: "rgb(0, 188, 212)" }, grid: { borderColor: "#f3f3f3", borderWidth: 1, tickColor: "#f3f3f3" }, lines: { fill: !0 }, yaxis: { min: 0, max: 100 }, xaxis: { min: 0, max: 100 } }); function t() { var e; a.setData([getRandomData()]), a.draw(), "on" === realtime ? e = setTimeout(t, 320) : clearTimeout(e) } t(), $("#realtime").on("change", function () { realtime = this.checked ? "on" : "off", t() }) } function initSparkline() { $(".sparkline").each(function () { var a = $(this); a.sparkline("html", a.data()) }) } var data = [], totalPoints = 110; function getRandomData() { for (data.length > 0 && (data = data.slice(1)); data.length < totalPoints;) { var a = (data.length > 0 ? data[data.length - 1] : 50) + 10 * Math.random() - 5; a < 0 ? a = 0 : a > 100 && (a = 100), data.push(a) } for (var t = [], e = 0; e < data.length; ++e)t.push([e, data[e]]); return t }